(this["webpackJsonpresource-scheduler"]=this["webpackJsonpresource-scheduler"]||[]).push([[0],{130:function(e,t,n){e.exports=n(267)},265:function(e,t,n){},267:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(5),i=n.n(o),s=n(3),l=n(4),c=n(14),d=n(13),u=n(52),h=n(11),v=n(17),m=n.n(v),f=n(24),g=n.n(f),p=n(23),E=n.n(p),y=(n(135),n(68),n(65)),b=n.n(y),D=(n(136),n(64)),C=n.n(D),S=(n(87),n(127)),w=n.n(S),M=(n(137),function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.schedulerData,n=e.eventItem,r=e.title,o=e.startTime,i=e.endTime,s=e.statusColor,l=e.subtitleGetter,c=e.viewEventClick,d=e.viewEventText,u=e.viewEvent2Click,h=e.viewEvent2Text,v=e.eventItemPopoverTemplateResolver,f=t.localeMoment,p=t.config,E=f(o),y=f(i);if(void 0!=v)return v(t,n,r,E,y,s);var b=a.a.createElement("div",null);if(void 0!==l){var D=l(t,n);void 0!=D&&(b=a.a.createElement(g.a,{type:"flex",align:"middle"},a.a.createElement(m.a,{span:2},a.a.createElement("div",null)),a.a.createElement(m.a,{span:22,className:"overflow-text"},a.a.createElement("span",{className:"header2-text",title:D},D))))}var C=a.a.createElement("div",null);if(void 0===d||void 0===c||void 0!=n.clickable1&&!n.clickable1){if(void 0!==h&&void 0!==u&&(void 0==n.clickable2||n.clickable2)){var S=a.a.createElement(m.a,{span:22},a.a.createElement("span",{className:"header2-text",style:{color:"#108EE9",cursor:"pointer"},onClick:function(){u(t,n)}},h));C=a.a.createElement(g.a,{type:"flex",align:"middle"},a.a.createElement(m.a,{span:2},a.a.createElement("div",null)),S)}}else{var w=a.a.createElement(m.a,{span:22},a.a.createElement("span",{className:"header2-text",style:{color:"#108EE9",cursor:"pointer"},onClick:function(){c(t,n)}},d));void 0===h||void 0===u||void 0!=n.clickable2&&!n.clickable2||(w=a.a.createElement(m.a,{span:22},a.a.createElement("span",{className:"header2-text",style:{color:"#108EE9",cursor:"pointer"},onClick:function(){c(t,n)}},d),a.a.createElement("span",{className:"header2-text",style:{color:"#108EE9",cursor:"pointer",marginLeft:"16px"},onClick:function(){u(t,n)}},h))),C=a.a.createElement(g.a,{type:"flex",align:"middle"},a.a.createElement(m.a,{span:2},a.a.createElement("div",null)),w)}var M=p.eventItemPopoverDateFormat;return a.a.createElement("div",{style:{width:"300px"}},a.a.createElement(g.a,{type:"flex",align:"middle"},a.a.createElement(m.a,{span:2},a.a.createElement("div",{className:"status-dot",style:{backgroundColor:s}})),a.a.createElement(m.a,{span:22,className:"overflow-text"},a.a.createElement("span",{className:"header2-text",title:r},r))),b,a.a.createElement(g.a,{type:"flex",align:"middle"},a.a.createElement(m.a,{span:2},a.a.createElement("div",null)),a.a.createElement(m.a,{span:22},a.a.createElement("span",{className:"header1-text"},E.format("HH:mm")),a.a.createElement("span",{className:"help-text",style:{marginLeft:"8px"}},E.format(M)),a.a.createElement("span",{className:"header2-text",style:{marginLeft:"8px"}},"-"),a.a.createElement("span",{className:"header1-text",style:{marginLeft:"8px"}},y.format("HH:mm")),a.a.createElement("span",{className:"help-text",style:{marginLeft:"8px"}},y.format(M)))),C)}}]),n}(r.Component)),k="event",I="ontouchstart"in window,T=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var r;Object(s.a)(this,n),(r=t.call(this,e)).initStartDrag=function(e){var t=r.props,n=t.schedulerData,a=t.eventItem,o=n._getEventSlotId(a),i=n.getSlotById(o);if((!i||!i.groupOnly)&&!n._isResizing()){e.stopPropagation();var s=0;if(I){if(0==e.changedTouches.length)return;s=e.changedTouches[0].pageX}else{if(void 0!==e.buttons&&1!==e.buttons)return;s=e.clientX}r.setState({startX:s}),n._startResizing(),I?(r.startResizer.addEventListener("touchmove",r.doStartDrag,!1),r.startResizer.addEventListener("touchend",r.stopStartDrag,!1),r.startResizer.addEventListener("touchcancel",r.cancelStartDrag,!1)):(document.documentElement.addEventListener("mousemove",r.doStartDrag,!1),document.documentElement.addEventListener("mouseup",r.stopStartDrag,!1)),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1}}},r.doStartDrag=function(e){e.stopPropagation();var t=0;if(I){if(0==e.changedTouches.length)return;t=e.changedTouches[0].pageX}else t=e.clientX;var n=r.props,a=n.left,o=n.width,i=n.leftIndex,s=n.rightIndex,l=n.schedulerData.getContentCellWidth(),c=i>0?5:6,d=l-c,u=s*l-c,h=r.state.startX,v=a+t-h,m=o+h-t;m<d?(m=d,v=(s-1)*l+(s-1>0?2:3)):m>u&&(m=u,v=3),r.setState({left:v,width:m})},r.stopStartDrag=function(e){e.stopPropagation(),I?(r.startResizer.removeEventListener("touchmove",r.doStartDrag,!1),r.startResizer.removeEventListener("touchend",r.stopStartDrag,!1),r.startResizer.removeEventListener("touchcancel",r.cancelStartDrag,!1)):(document.documentElement.removeEventListener("mousemove",r.doStartDrag,!1),document.documentElement.removeEventListener("mouseup",r.stopStartDrag,!1)),document.onselectstart=null,document.ondragstart=null;var t=r.props,n=t.width,a=t.left,o=t.top,i=t.leftIndex,s=t.rightIndex,l=t.schedulerData,c=t.eventItem,d=t.updateEventStart,u=t.conflictOccurred;if(l._stopResizing(),r.state.width!==n){var h=0;if(I){if(0==e.changedTouches.length)return void r.setState({left:a,top:o,width:n});h=e.changedTouches[0].pageX}else h=e.clientX;var v=l.cellUnit,m=l.events,f=l.config,g=l.localeMoment,p=l.getContentCellWidth(),E=i>0?5:6,y=p-E,b=s*p-E,D=r.state.startX,C=n+D-h,S=h-D,w=S<0?-1:0===S?0:1,M=(w>0?Math.floor(Math.abs(S)/p):Math.ceil(Math.abs(S)/p))*w;C<y?M=s-i-1:C>b&&(M=-i);var T=g(c.start).add(v===Y.Hour?M*f.minuteStep:M,v===Y.Hour?"minutes":"days").format(ee);if(0!==M&&v!==Y.Hour&&!1===f.displayWeekend)if(M>0)for(var R=0,x=0;;){x++;var O=g(c.start).add(x,"days"),W=O.weekday();if(0!==W&&6!==W&&++R===M){T=O.format(ee);break}}else for(var H=0,N=0;;){N--;var j=g(c.start).add(N,"days"),_=j.weekday();if(0!==_&&6!==_&&--H===M){T=j.format(ee);break}}var z=!1,L=l._getEventSlotId(c),A=void 0,F=l.getSlotById(L);if(F&&(A=F.name),f.checkConflict){var B=g(T),P=g(c.end);m.forEach((function(e){if(l._getEventSlotId(e)===L&&e.id!==c.id){var t=g(e.start),n=g(e.end);(B>=t&&B<n||P>t&&P<=n||t>=B&&t<P||n>B&&n<=P)&&(z=!0)}}))}z?(r.setState({left:a,top:o,width:n}),void 0!=u?u(l,"StartResize",c,k,L,A,T,c.end):console.log("Conflict occurred, set conflictOccurred func in Scheduler to handle it"),r.subscribeResizeEvent(r.props)):void 0!=d&&d(l,c,T)}},r.cancelStartDrag=function(e){e.stopPropagation(),r.startResizer.removeEventListener("touchmove",r.doStartDrag,!1),r.startResizer.removeEventListener("touchend",r.stopStartDrag,!1),r.startResizer.removeEventListener("touchcancel",r.cancelStartDrag,!1),document.onselectstart=null,document.ondragstart=null;var t=r.props,n=t.schedulerData,a=t.left,o=t.top,i=t.width;n._stopResizing(),r.setState({left:a,top:o,width:i})},r.initEndDrag=function(e){var t=r.props,n=t.schedulerData,a=t.eventItem,o=n._getEventSlotId(a),i=n.getSlotById(o);if((!i||!i.groupOnly)&&!n._isResizing()){e.stopPropagation();var s=0;if(I){if(0==e.changedTouches.length)return;s=e.changedTouches[0].pageX}else{if(void 0!==e.buttons&&1!==e.buttons)return;s=e.clientX}r.setState({endX:s}),n._startResizing(),I?(r.endResizer.addEventListener("touchmove",r.doEndDrag,!1),r.endResizer.addEventListener("touchend",r.stopEndDrag,!1),r.endResizer.addEventListener("touchcancel",r.cancelEndDrag,!1)):(document.documentElement.addEventListener("mousemove",r.doEndDrag,!1),document.documentElement.addEventListener("mouseup",r.stopEndDrag,!1)),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1}}},r.doEndDrag=function(e){e.stopPropagation();var t=0;if(I){if(0==e.changedTouches.length)return;t=e.changedTouches[0].pageX}else t=e.clientX;var n=r.props,a=n.width,o=n.leftIndex,i=n.schedulerData,s=i.headers,l=i.getContentCellWidth(),c=o>0?5:6,d=l-c,u=(s.length-o)*l-c,h=a+t-r.state.endX;h<d?h=d:h>u&&(h=u),r.setState({width:h})},r.stopEndDrag=function(e){e.stopPropagation(),I?(r.endResizer.removeEventListener("touchmove",r.doEndDrag,!1),r.endResizer.removeEventListener("touchend",r.stopEndDrag,!1),r.endResizer.removeEventListener("touchcancel",r.cancelEndDrag,!1)):(document.documentElement.removeEventListener("mousemove",r.doEndDrag,!1),document.documentElement.removeEventListener("mouseup",r.stopEndDrag,!1)),document.onselectstart=null,document.ondragstart=null;var t=r.props,n=t.width,a=t.left,o=t.top,i=t.leftIndex,s=t.rightIndex,l=t.schedulerData,c=t.eventItem,d=t.updateEventEnd,u=t.conflictOccurred;if(l._stopResizing(),r.state.width!==n){var h=0;if(I){if(0==e.changedTouches.length)return void r.setState({left:a,top:o,width:n});h=e.changedTouches[0].pageX}else h=e.clientX;var v=l.headers,m=l.cellUnit,f=l.events,g=l.config,p=l.localeMoment,E=l.getContentCellWidth(),y=i>0?5:6,b=E-y,D=(v.length-i)*E-y,C=n+h-r.state.endX,S=C-n,w=S<0?-1:0===S?0:1,M=(w<0?Math.floor(Math.abs(S)/E):Math.ceil(Math.abs(S)/E))*w;C<b?M=i-s+1:C>D&&(M=v.length-s);var T=p(c.end).add(m===Y.Hour?M*g.minuteStep:M,m===Y.Hour?"minutes":"days").format(ee);if(0!==M&&m!==Y.Hour&&!1===g.displayWeekend)if(M>0)for(var R=0,x=0;;){x++;var O=p(c.end).add(x,"days"),W=O.weekday();if(0!==W&&6!==W&&++R===M){T=O.format(ee);break}}else for(var H=0,N=0;;){N--;var j=p(c.end).add(N,"days"),_=j.weekday();if(0!==_&&6!==_&&--H===M){T=j.format(ee);break}}var z=!1,L=l._getEventSlotId(c),A=void 0,F=l.getSlotById(L);if(F&&(A=F.name),g.checkConflict){var B=p(c.start),P=p(T);f.forEach((function(e){if(l._getEventSlotId(e)===L&&e.id!==c.id){var t=p(e.start),n=p(e.end);(B>=t&&B<n||P>t&&P<=n||t>=B&&t<P||n>B&&n<=P)&&(z=!0)}}))}z?(r.setState({left:a,top:o,width:n}),void 0!=u?u(l,"EndResize",c,k,L,A,c.start,T):console.log("Conflict occurred, set conflictOccurred func in Scheduler to handle it"),r.subscribeResizeEvent(r.props)):void 0!=d&&d(l,c,T)}},r.cancelEndDrag=function(e){e.stopPropagation(),r.endResizer.removeEventListener("touchmove",r.doEndDrag,!1),r.endResizer.removeEventListener("touchend",r.stopEndDrag,!1),r.endResizer.removeEventListener("touchcancel",r.cancelEndDrag,!1),document.onselectstart=null,document.ondragstart=null;var t=r.props,n=t.schedulerData,a=t.left,o=t.top,i=t.width;n._stopResizing(),r.setState({left:a,top:o,width:i})},r.startResizable=function(e){var t=e.eventItem,n=e.isInPopover;return!0===e.schedulerData.config.startResizable&&!1===n&&(void 0==t.resizable||!1!==t.resizable)&&(void 0==t.startResizable||!1!==t.startResizable)},r.endResizable=function(e){var t=e.eventItem,n=e.isInPopover;return!0===e.schedulerData.config.endResizable&&!1===n&&(void 0==t.resizable||!1!==t.resizable)&&(void 0==t.endResizable||!1!==t.endResizable)},r.subscribeResizeEvent=function(e){void 0!=r.startResizer&&(I||(r.startResizer.removeEventListener("mousedown",r.initStartDrag,!1),r.startResizable(e)&&r.startResizer.addEventListener("mousedown",r.initStartDrag,!1))),void 0!=r.endResizer&&(I||(r.endResizer.removeEventListener("mousedown",r.initEndDrag,!1),r.endResizable(e)&&r.endResizer.addEventListener("mousedown",r.initEndDrag,!1)))};var a=e.left,o=e.top,i=e.width;return r.state={left:a,top:o,width:i},r.startResizer=null,r.endResizer=null,r}return Object(l.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.left,n=e.top,r=e.width;this.setState({left:t,top:n,width:r}),this.subscribeResizeEvent(e)}},{key:"componentDidMount",value:function(){this.subscribeResizeEvent(this.props)}},{key:"render",value:function(){var e=this,t=this.props,n=t.eventItem,r=t.isStart,o=t.isEnd,i=t.isInPopover,s=t.eventItemClick,l=t.schedulerData,c=t.isDragging,d=t.connectDragSource,u=t.connectDragPreview,h=t.eventItemTemplateResolver,v=l.config,m=l.localeMoment,f=this.state,g=f.left,p=f.width,E=f.top,y=r?o?"round-all":"round-head":o?"round-tail":"round-none",b=v.defaultEventBgColor;n.bgColor&&(b=n.bgColor);var D=l.behaviors.getEventTextFunc(l,n),S=a.a.createElement(M,Object.assign({},this.props,{eventItem:n,title:n.title,startTime:n.start,endTime:n.end,statusColor:b})),w=m(n.start),k=i?"".concat(w.format("HH:mm")," ").concat(D):D,I=a.a.createElement("div",null);this.startResizable(this.props)&&(I=a.a.createElement("div",{className:"event-resizer event-start-resizer",ref:function(t){return e.startResizer=t}}));var T=a.a.createElement("div",null);this.endResizable(this.props)&&(T=a.a.createElement("div",{className:"event-resizer event-end-resizer",ref:function(t){return e.endResizer=t}}));var R=a.a.createElement("div",{className:y+" event-item",key:n.id,style:{height:v.eventItemHeight,backgroundColor:b}},a.a.createElement("span",{style:{marginLeft:"10px",lineHeight:"".concat(v.eventItemHeight,"px")}},k));void 0!=h&&(R=h(l,n,b,r,o,"event-item",v.eventItemHeight,void 0));var x=a.a.createElement("a",{className:"timeline-event",style:{left:g,width:p,top:E},onClick:function(){s&&s(l,n)}},R,I,T);return c?null:l._isResizing()||0==v.eventItemPopoverEnabled||0==n.showPopover?a.a.createElement("div",null,u(d(x))):a.a.createElement(C.a,{placement:"bottomLeft",content:S,trigger:"hover"},u(d(x)))}}]),n}(r.Component),R=n(44),x=function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;Object(s.a)(this,e),this.getDragSpec=function(){return{beginDrag:function(e,t,n){return r.resolveDragObjFunc(e)},endDrag:function(e,t,n){if(t.didDrop()){var r=e.moveEvent,a=e.newEvent,o=e.schedulerData,i=o.events,s=o.config,l=o.viewType,c=o.localeMoment,d=t.getItem(),u=t.getItemType(),h=t.getDropResult(),v=h.slotId,m=h.slotName,f=h.start,g=h.end,p=h.initialStart,E=(h.initialEnd,"New"),y=u===k;if(y){var b=d;if(s.relativeMove)f=c(b.start).add(c(f).diff(c(p)),"ms").format(ee);else if(l!==W.Day){var D=c(f);f=c(b.start).year(D.year()).month(D.month()).date(D.date()).format(ee)}if(g=c(f).add(c(b.end).diff(c(b.start)),"ms").format(ee),!1===s.crossResourceMove){v=o._getEventSlotId(d),m=void 0;var C=o.getSlotById(v);C&&(m=C.name)}E="Move"}var S=!1;if(s.checkConflict){var w=c(f),M=c(g);i.forEach((function(e){if(o._getEventSlotId(e)===v&&(!y||e.id!==d.id)){var t=c(e.start),n=c(e.end);(w>=t&&w<n||M>t&&M<=n||t>=w&&t<M||n>w&&n<=M)&&(S=!0)}}))}if(S){var I=e.conflictOccurred;void 0!=I?I(o,E,d,u,v,m,f,g):console.log("Conflict occurred, set conflictOccurred func in Scheduler to handle it")}else y?void 0!==r&&r(o,d,v,m,f,g):void 0!==a&&a(o,v,m,f,g,u,d)}},canDrag:function(e){var t=e.schedulerData,n=e.resourceEvents,a=r.resolveDragObjFunc(e);return!t._isResizing()&&(t.config.movable&&(void 0==n||!n.groupOnly)&&(void 0==a.movable||!1!==a.movable))}}},this.getDragCollect=function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging(),connectDragPreview:e.dragPreview()}},this.getDragSource=function(){return r.dragSource},this.resolveDragObjFunc=t,this.DecoratedComponent=n,this.dndType=a,this.dragSource=Object(R.b)(this.dndType,this.getDragSpec(),this.getDragCollect)(this.DecoratedComponent)};function O(e){var t=0,n=0;if(e)do{t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop}while(e=e.offsetParent);return{x:t,y:n}}var W={Day:0,Week:1},H=function e(t,n){var r=this;Object(s.a)(this,e),this.getDropSpec=function(){return{drop:function(e,t,n){var r=e.schedulerData,a=e.resourceEvents,o=r.cellUnit,i=r.localeMoment,s=t.getItemType(),l=O(n.eventContainer),c=r.getContentCellWidth(),d=null,u=null;if(s===k){var h=t.getInitialClientOffset(),v=Math.floor((h.x-l.x)/c);d=a.headerItems[v].start,u=a.headerItems[v].end,o!==Y.Hour&&(u=i(a.headerItems[v].start).hour(23).minute(59).second(59).format(ee))}var m=t.getClientOffset(),f=Math.floor((m.x-l.x)/c),g=a.headerItems[f].start,p=a.headerItems[f].end;return o!==Y.Hour&&(p=i(a.headerItems[f].start).hour(23).minute(59).second(59).format(ee)),{slotId:a.slotId,slotName:a.slotName,start:g,end:p,initialStart:d,initialEnd:u}},hover:function(e,t,n){var r=e.schedulerData,a=e.resourceEvents,o=e.movingEvent,i=r.cellUnit,s=r.config,l=r.viewType,c=r.localeMoment,d=t.getItem(),u=t.getItemType(),h=O(n.eventContainer),v=r.getContentCellWidth(),m=null;if(u===k){var f=t.getInitialClientOffset(),g=Math.floor((f.x-h.x)/v);m=a.headerItems[g].start,a.headerItems[g].end,i!==Y.Hour&&c(a.headerItems[g].start).hour(23).minute(59).second(59).format(ee)}var p=t.getClientOffset(),E=Math.floor((p.x-h.x)/v);if(a.headerItems[E]){var y=a.headerItems[E].start,b=a.headerItems[E].end;i!==Y.Hour&&(b=c(a.headerItems[E].start).hour(23).minute(59).second(59).format(ee));var D=a.slotId,C=a.slotName,S="New";if(u===k){var w=d;if(s.relativeMove)y=c(w.start).add(c(y).diff(c(m)),"ms").format(ee);else if(l!==W.Day){var M=c(y);y=c(w.start).year(M.year()).month(M.month()).date(M.date()).format(ee)}if(b=c(y).add(c(w.end).diff(c(w.start)),"ms").format(ee),!1===s.crossResourceMove){D=r._getEventSlotId(d),C=void 0;var I=r.getSlotById(D);I&&(C=I.name)}S="Move"}o&&o(r,D,C,y,b,S,u,d)}},canDrop:function(e,t){var n=e.schedulerData,r=e.resourceEvents,a=t.getItem();return!n._isResizing()&&(n.config.movable&&!r.groupOnly&&(void 0==a.movable||!1!==a.movable))}}},this.getDropCollect=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}},this.getDropTarget=function(){return Object(R.c)(Object(u.a)(r.sourceMap.keys()),r.getDropSpec(),r.getDropCollect)(r.DecoratedComponent)},this.getDndSource=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;return r.sourceMap.get(e)},this.sourceMap=new Map,t.forEach((function(e){r.sourceMap.set(e.dndType,e)})),this.DecoratedComponent=n},N=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.schedulerData,n=e.contentScrollbarHeight,r=e.slotClickedFunc,o=e.slotItemTemplateResolver,i=e.toggleExpandFunc,s=t.renderData,l=t.getResourceTableWidth()-2,c=n,d=s.filter((function(e){return e.render})).map((function(e){for(var n=[],s=0;s<e.indent;s++)n.push(a.a.createElement("span",{key:"es".concat(s),className:"expander-space"}));var c=a.a.createElement("span",{key:"es".concat(e.indent),className:"expander-space"});e.hasChildren&&(c=e.expanded?a.a.createElement(E.a,{type:"minus-square",key:"es".concat(e.indent),style:{},className:"",onClick:function(){i&&i(t,e.slotId)}}):a.a.createElement(E.a,{type:"plus-square",key:"es".concat(e.indent),style:{},className:"",onClick:function(){i&&i(t,e.slotId)}})),n.push(c);var d=void 0!=r?a.a.createElement("span",{className:"slot-cell"},n,a.a.createElement("a",{className:"slot-text",onClick:function(){r(t,e)}},e.slotName)):a.a.createElement("span",{className:"slot-cell"},n,a.a.createElement("span",{className:"slot-text"},e.slotName)),u=a.a.createElement("div",{title:e.slotName,className:"overflow-text header2-text",style:{textAlign:"left"}},d);if(o){var v=o(t,e,r,l,"overflow-text header2-text");v&&(u=v)}var m={height:e.rowHeight};return e.groupOnly&&(m=Object(h.a)(Object(h.a)({},m),{},{backgroundColor:t.config.groupOnlySlotColor})),a.a.createElement("tr",{key:e.slotId},a.a.createElement("td",{"data-resource-id":e.slotId,style:m},u))}));return a.a.createElement("div",{style:{paddingBottom:c}},a.a.createElement("table",{className:"resource-table"},a.a.createElement("tbody",null,d)))}}]),n}(r.Component),j=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.schedulerData,n=e.nonAgendaCellHeaderTemplateResolver,r=t.headers,o=t.cellUnit,i=t.config,s=t.localeMoment,l=t.getTableHeaderHeight(),c=t.getContentCellWidth(),d=t.getMinuteStepsInHour(),u=[],h={};return o===Y.Hour?r.forEach((function(e,o){if(o%d===0){var l=s(e.time);l.isSame(new Date,"hour");h=e.nonWorkingTime?{width:c*d,color:i.nonWorkingTimeHeadColor,backgroundColor:i.nonWorkingTimeHeadBgColor}:{width:c*d},o===r.length-d&&(h=e.nonWorkingTime?{color:i.nonWorkingTimeHeadColor,backgroundColor:i.nonWorkingTimeHeadBgColor}:{});var v,m=i.nonAgendaDayCellHeaderFormat.split("|").map((function(e){return l.format(e)}));if("function"===typeof n)v=n(t,e,m,h);else{var f=m.map((function(e,t){return a.a.createElement("div",{key:t},e)}));v=a.a.createElement("th",{key:e.time,className:"header3-text",style:h},a.a.createElement("div",null,f))}u.push(v)}})):u=r.map((function(e,o){var l=s(e.time);h=e.nonWorkingTime?{width:c,color:i.nonWorkingTimeHeadColor,backgroundColor:i.nonWorkingTimeHeadBgColor}:{width:c},o===r.length-1&&(h=e.nonWorkingTime?{color:i.nonWorkingTimeHeadColor,backgroundColor:i.nonWorkingTimeHeadBgColor}:{});var d=i.nonAgendaOtherCellHeaderFormat.split("|").map((function(e){return l.format(e)}));if("function"===typeof n)return n(t,e,d,h);var u=d.map((function(e,t){return a.a.createElement("div",{key:t},e)}));return a.a.createElement("th",{key:e.time,className:"header3-text",style:h},a.a.createElement("div",null,u))})),a.a.createElement("thead",null,a.a.createElement("tr",{style:{height:l}},u))}}]),n}(r.Component),_=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.schedulerData,t=e.renderData,n=e.headers,r=e.config,o=e.behaviors,i=e.getContentCellWidth(),s=t.filter((function(e){return e.render})).map((function(t){var s=n.map((function(s,l){var c=t.slotId+"_"+s.time,d=l===n.length-1?{}:{width:i};if(s.nonWorkingTime&&(d=Object(h.a)(Object(h.a)({},d),{},{backgroundColor:r.nonWorkingTimeBodyBgColor})),t.groupOnly&&(d=Object(h.a)(Object(h.a)({},d),{},{backgroundColor:r.groupOnlySlotColor})),o.getNonAgendaViewBodyCellBgColorFunc){var u=o.getNonAgendaViewBodyCellBgColorFunc(e,t.slotId,s);u&&(d=Object(h.a)(Object(h.a)({},d),{},{backgroundColor:u}))}return a.a.createElement("td",{key:c,style:d},a.a.createElement("div",null))}));return a.a.createElement("tr",{key:t.slotId,style:{height:t.rowHeight}},s)}));return a.a.createElement("tbody",null,s)}}]),n}(r.Component),z=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.number,n=e.left,r=e.width,o=e.top,i=e.clickAction,s=e.headerItem,l=e.schedulerData.config,c="+"+t+"more";return a.a.createElement("a",{className:"timeline-event",style:{left:n,width:r,top:o},onClick:function(){i(s)}},a.a.createElement("div",{style:{height:l.eventItemHeight,color:"#999",textAlign:"center"}},c))}}]),n}(r.Component),L=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.left,n=e.width,r=e.schedulerData.config;return a.a.createElement("div",{className:"selected-area",style:{left:t,width:n,top:0,bottom:0,backgroundColor:r.selectedAreaColor}})}}]),n}(r.Component),A="ontouchstart"in window,F=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).initDrag=function(e){if(!r.state.isSelecting&&((e.srcElement||e.target)===r.eventContainer&&(e.stopPropagation(),!r.props.resourceEvents.groupOnly))){var t=0;if(A){if(0==e.changedTouches.length)return;t=e.changedTouches[0].pageX}else{if(void 0!==e.buttons&&1!==e.buttons)return;t=e.clientX}var n=r.props.schedulerData.getContentCellWidth(),a=t-O(r.eventContainer).x,o=Math.floor(a/n),i=o*n,s=Math.ceil(a/n),l=(s-o)*n;r.setState({startX:a,left:i,leftIndex:o,width:l,rightIndex:s,isSelecting:!0}),A?(document.documentElement.addEventListener("touchmove",r.doDrag,!1),document.documentElement.addEventListener("touchend",r.stopDrag,!1),document.documentElement.addEventListener("touchcancel",r.cancelDrag,!1)):(document.documentElement.addEventListener("mousemove",r.doDrag,!1),document.documentElement.addEventListener("mouseup",r.stopDrag,!1)),document.onselectstart=function(){return!1},document.ondragstart=function(){return!1}}},r.doDrag=function(e){e.stopPropagation();var t=0;if(A){if(0==e.changedTouches.length)return;t=e.changedTouches[0].pageX}else t=e.clientX;var n=r.state.startX,a=r.props.schedulerData,o=a.headers,i=a.getContentCellWidth(),s=t-O(r.eventContainer).x,l=Math.floor(Math.min(n,s)/i),c=(l=l<0?0:l)*i,d=Math.ceil(Math.max(n,s)/i),u=((d=d>o.length?o.length:d)-l)*i;r.setState({leftIndex:l,left:c,rightIndex:d,width:u,isSelecting:!0})},r.stopDrag=function(e){e.stopPropagation();var t=r.props,n=t.schedulerData,a=t.newEvent,o=t.resourceEvents,i=n.headers,s=n.events,l=n.config,c=n.cellUnit,d=n.localeMoment,u=r.state,h=u.leftIndex,v=u.rightIndex;A?(document.documentElement.removeEventListener("touchmove",r.doDrag,!1),document.documentElement.removeEventListener("touchend",r.stopDrag,!1),document.documentElement.removeEventListener("touchcancel",r.cancelDrag,!1)):(document.documentElement.removeEventListener("mousemove",r.doDrag,!1),document.documentElement.removeEventListener("mouseup",r.stopDrag,!1)),document.onselectstart=null,document.ondragstart=null;var m=i[h].time,f=o.headerItems[v-1].end;c!==Y.Hour&&(f=d(o.headerItems[v-1].start).hour(23).minute(59).second(59).format(ee));var g=o.slotId,p=o.slotName;r.setState({startX:0,leftIndex:0,left:0,rightIndex:0,width:0,isSelecting:!1});var E=!1;if(l.checkConflict){var y=d(m),b=d(f);s.forEach((function(e){if(n._getEventSlotId(e)===g){var t=d(e.start),r=d(e.end);(y>=t&&y<r||b>t&&b<=r||t>=y&&t<b||r>y&&r<=b)&&(E=!0)}}))}if(E){var D=r.props.conflictOccurred;void 0!=D?D(n,"New",{id:void 0,start:m,end:f,slotId:g,slotName:p,title:void 0},k,g,p,m,f):console.log("Conflict occurred, set conflictOccurred func in Scheduler to handle it")}else void 0!=a&&a(n,g,p,m,f)},r.cancelDrag=function(e){e.stopPropagation(),r.state.isSelecting&&(document.documentElement.removeEventListener("touchmove",r.doDrag,!1),document.documentElement.removeEventListener("touchend",r.stopDrag,!1),document.documentElement.removeEventListener("touchcancel",r.cancelDrag,!1),document.onselectstart=null,document.ondragstart=null,r.setState({startX:0,leftIndex:0,left:0,rightIndex:0,width:0,isSelecting:!1}))},r.onAddMoreClick=function(e){var t=r.props,n=t.onSetAddMoreState,a=t.resourceEvents,o=t.schedulerData;if(n){var i=o.config,s=o.getContentCellWidth(),l=a.headerItems.indexOf(e);if(-1!==l){var c=l*(s-1),d=O(r.eventContainer);n({headerItem:e,left:c+=d.x,top:d.y,height:(e.count+1)*i.eventItemLineHeight+20})}}},r.eventContainerRef=function(e){r.eventContainer=e},r.state={isSelecting:!1,left:0,width:0},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){!0===this.props.schedulerData.config.creatable&&(A||this.eventContainer.addEventListener("mousedown",this.initDrag,!1))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){A||this.eventContainer.removeEventListener("mousedown",this.initDrag,!1),e.schedulerData.config.creatable&&(A||this.eventContainer.addEventListener("mousedown",this.initDrag,!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.resourceEvents,r=t.schedulerData,o=t.connectDropTarget,i=t.dndSource,s=r.cellUnit,l=r.startDate,c=r.endDate,d=r.config,u=r.localeMoment,h=this.state,v=h.isSelecting,m=h.left,f=h.width,g=r.getContentCellWidth(),p=r.getCellMaxEvents(),E=r.getContentTableWidth(),y=i.getDragSource(),b=v?a.a.createElement(L,Object.assign({},this.props,{left:m,width:f})):a.a.createElement("div",null),D=[];return n.headerItems.forEach((function(t,r){if(t.count>0||void 0!=t.summary){var o=0===t.addMore?p:t.addMoreIndex;if(t.events.forEach((function(t,n){if(n<o&&void 0!==t&&t.render){var i=u(l),h=u(c).add(1,"days");s===Y.Hour&&(i=u(l).add(d.dayStartFrom,"hours"),h=u(c).add(d.dayStopTo+1,"hours"));var v=u(t.eventItem.start)>=i,m=u(t.eventItem.end)<=h,f=r*g+(r>0?2:3),p=t.span*g-(r>0?5:6)>0?t.span*g-(r>0?5:6):0,E=a.a.createElement(y,Object.assign({},e.props,{key:t.eventItem.id,eventItem:t.eventItem,isStart:v,isEnd:m,isInPopover:!1,left:f,width:p,leftIndex:r,rightIndex:r+t.span}));D.push(E)}})),t.addMore>0){var i=r*g+(r>0?2:3),h=g-(r>0?5:6),v=a.a.createElement(z,Object.assign({},e.props,{key:t.time,headerItem:t,number:t.addMore,left:i,width:h,clickAction:e.onAddMoreClick}));D.push(v)}if(void 0!=t.summary)"".concat(n.slotId,"_").concat(t.time)}})),a.a.createElement("tr",null,a.a.createElement("td",{style:{width:E}},o(a.a.createElement("div",{ref:this.eventContainerRef,className:"event-container",style:{height:n.rowHeight}},b,D))))}}]),n}(r.Component),Y=(r.Component,{Day:0,Hour:1}),B=n(125),P=n(22),G=n.n(P),X=n(6),V={schedulerWidth:"100%",besidesWidth:20,schedulerMaxHeight:0,tableHeaderHeight:40,agendaResourceTableWidth:160,agendaMaxEventWidth:100,dayResourceTableWidth:160,weekResourceTableWidth:"16%",monthResourceTableWidth:160,quarterResourceTableWidth:160,yearResourceTableWidth:160,customResourceTableWidth:160,dayCellWidth:30,weekCellWidth:"12%",monthCellWidth:80,quarterCellWidth:80,yearCellWidth:80,customCellWidth:80,dayMaxEvents:99,weekMaxEvents:99,monthMaxEvents:99,quarterMaxEvents:99,yearMaxEvents:99,customMaxEvents:99,eventItemHeight:22,eventItemLineHeight:24,nonAgendaSlotMinHeight:0,dayStartFrom:0,dayStopTo:23,defaultEventBgColor:"#80C5F6",selectedAreaColor:"#7EC2F3",nonWorkingTimeHeadColor:"#999999",nonWorkingTimeHeadBgColor:"#fff0f6",nonWorkingTimeBodyBgColor:"#fff0f6",summaryColor:"#666",groupOnlySlotColor:"#F8F8F8",startResizable:!0,endResizable:!0,movable:!0,creatable:!0,crossResourceMove:!0,checkConflict:!1,scrollToSpecialMomentEnabled:!0,eventItemPopoverEnabled:!0,calendarPopoverEnabled:!0,recurringEventsEnabled:!0,headerEnabled:!0,displayWeekend:!0,relativeMove:!0,defaultExpanded:!0,resourceName:"Resource Name",taskName:"Task Name",agendaViewHeader:"Agenda",addMorePopoverHeaderFormat:"MMM D, YYYY dddd",eventItemPopoverDateFormat:"MMM D",nonAgendaDayCellHeaderFormat:"ha",nonAgendaOtherCellHeaderFormat:"ddd M/D",minuteStep:30,views:[{viewName:"Day",viewType:W.Day,showAgenda:!1,isEventPerspective:!1},{viewName:"Week",viewType:W.Week,showAgenda:!1,isEventPerspective:!1}]},U={getSummaryFunc:void 0,getCustomDateFunc:void 0,getNonAgendaViewBodyCellBgColorFunc:void 0,getScrollSpecialMomentFunc:function(e,t,n){return(0,e.localeMoment)()},getDateLabelFunc:function(e,t,n,r){var a=e.localeMoment(n),o=e.localeMoment(r),i=a.format("MMM D, YYYY");return t===W.Week||a!=o&&(t===W.Custom||t===W.Custom1||t===W.Custom2)?(i="".concat(a.format("MMM D"),"-").concat(o.format("D, YYYY")),a.month()!==o.month()&&(i="".concat(a.format("MMM D"),"-").concat(o.format("MMM D, YYYY"))),a.year()!==o.year()&&(i="".concat(a.format("MMM D, YYYY"),"-").concat(o.format("MMM D, YYYY")))):t===W.Month?i=a.format("MMMM YYYY"):t===W.Quarter?i="".concat(a.format("MMM D"),"-").concat(o.format("MMM D, YYYY")):t===W.Year&&(i=a.format("YYYY")),i},getEventTextFunc:function(e,t){if(!e.isEventPerspective)return t.title;var n=t.title;return e.resources.forEach((function(e){e.id===t.resourceId&&(n=e.name)})),n},isNonWorkingTimeFunc:function(e,t){var n=e.localeMoment;if(e.cellUnit===Y.Hour){var r=n(t).hour();if(r<9||r>18)return!0}else{var a=n(t).weekday();if(0===a||6===a)return!0}return!1}},q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G()().format(Z),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W.Week,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0;Object(s.a)(this,e),this.resources=[],this.events=[],this.eventGroups=[],this.eventGroupsAutoGenerated=!0,this.viewType=n,this.cellUnit=n===W.Day?Y.Hour:Y.Day,this.showAgenda=r,this.isEventPerspective=a,this.resizing=!1,this.scrollToSpecialMoment=!1,this.documentWidth=0,this.localeMoment=G.a,l&&(this.localeMoment=l),this.config=void 0==o?V:Object(h.a)(Object(h.a)({},V),o),this._validateMinuteStep(this.config.minuteStep),this.behaviors=void 0==i?U:Object(h.a)(Object(h.a)({},U),i),this._resolveDate(0,t),this._createHeaders(),this._createRenderData()}return Object(l.a)(e,[{key:"setLocaleMoment",value:function(e){e&&(this.localeMoment=e,this._createHeaders(),this._createRenderData())}},{key:"setResources",value:function(e){this._validateResource(e),this.resources=Array.from(new Set(e)),this._createRenderData(),this.setScrollToSpecialMoment(!0)}},{key:"setEventGroupsAutoGenerated",value:function(e){this.eventGroupsAutoGenerated=e}},{key:"setEventGroups",value:function(e){this._validateEventGroups(e),this.eventGroups=Array.from(new Set(e)),this.eventGroupsAutoGenerated=!1,this._createRenderData(),this.setScrollToSpecialMoment(!0)}},{key:"setMinuteStep",value:function(e){this.config.minuteStep!==e&&(this._validateMinuteStep(e),this.config.minuteStep=e,this._createHeaders(),this._createRenderData())}},{key:"setBesidesWidth",value:function(e){e>=0&&(this.config.besidesWidth=e)}},{key:"getMinuteStepsInHour",value:function(){return 60/this.config.minuteStep}},{key:"addResource",value:function(e){0===this.resources.filter((function(t){return t.id===e.id})).length&&(this.resources.push(e),this._createRenderData())}},{key:"addEventGroup",value:function(e){0===this.eventGroups.filter((function(t){return t.id===e.id})).length&&(this.eventGroups.push(e),this._createRenderData())}},{key:"removeEventGroupById",value:function(e){var t=-1;this.eventGroups.forEach((function(n,r){n.id===e&&(t=r)})),-1!==t&&this.eventGroups.splice(t,1)}},{key:"containsEventGroupId",value:function(e){var t=-1;return this.eventGroups.forEach((function(n,r){n.id===e&&(t=r)})),-1!==t}},{key:"setEvents",value:function(e){this._validateEvents(e),this.events=Array.from(e),this.eventGroupsAutoGenerated&&this._generateEventGroups(),this.config.recurringEventsEnabled&&this._createRenderData()}},{key:"setScrollToSpecialMoment",value:function(e){this.config.scrollToSpecialMomentEnabled&&(this.scrollToSpecialMoment=e)}},{key:"prev",value:function(){this._resolveDate(-1),this.events=[],this._createHeaders(),this._createRenderData()}},{key:"next",value:function(){this._resolveDate(1),this.events=[],this._createHeaders(),this._createRenderData()}},{key:"setDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G()().format(Z);this._resolveDate(0,e),this.events=[],this._createHeaders(),this._createRenderData()}},{key:"setViewType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W.Week,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.showAgenda=t,this.isEventPerspective=n,this.cellUnit=Y.Day,this.viewType!==e){var r=this.startDate;if(e===W.Custom||e===W.Custom1||e===W.Custom2)this.viewType=e,this._resolveDate(0,r);else{if(this.viewType<e)e===W.Week?(this.startDate=this.localeMoment(r).startOf("week").format(Z),this.endDate=this.localeMoment(this.startDate).endOf("week").format(Z)):e===W.Month?(this.startDate=this.localeMoment(r).startOf("month").format(Z),this.endDate=this.localeMoment(this.startDate).endOf("month").format(Z)):e===W.Quarter?(this.startDate=this.localeMoment(r).startOf("quarter").format(Z),this.endDate=this.localeMoment(this.startDate).endOf("quarter").format(Z)):e===W.Year&&(this.startDate=this.localeMoment(r).startOf("year").format(Z),this.endDate=this.localeMoment(this.startDate).endOf("year").format(Z));else{var a=this.localeMoment(this.startDate),o=this.localeMoment(this.endDate).add(1,"days");if(void 0!==this.selectDate){var i=this.localeMoment(this.selectDate);i>=a&&i<o&&(r=this.selectDate)}var s=this.localeMoment();s>=a&&s<o&&(r=s.format(Z)),e===W.Day?(this.startDate=r,this.endDate=this.startDate,this.cellUnit=Y.Hour):e===W.Week?(this.startDate=this.localeMoment(r).startOf("week").format(Z),this.endDate=this.localeMoment(this.startDate).endOf("week").format(Z)):e===W.Month?(this.startDate=this.localeMoment(r).startOf("month").format(Z),this.endDate=this.localeMoment(this.startDate).endOf("month").format(Z)):e===W.Quarter&&(this.startDate=this.localeMoment(r).startOf("quarter").format(Z),this.endDate=this.localeMoment(this.startDate).endOf("quarter").format(Z))}this.viewType=e}this.events=[],this._createHeaders(),this._createRenderData(),this.setScrollToSpecialMoment(!0)}}},{key:"setSchedulerMaxHeight",value:function(e){this.config.schedulerMaxHeight=e}},{key:"isSchedulerResponsive",value:function(){return!!this.config.schedulerWidth.endsWith&&this.config.schedulerWidth.endsWith("%")}},{key:"toggleExpandStatus",value:function(e){var t=!1,n=-1,r=!1,a=new Map;this.renderData.forEach((function(o){if(!1===t)o.slotId===e&&o.hasChildren&&(t=!0,r=!o.expanded,o.expanded=r,n=o.indent,a.set(o.indent,{expanded:o.expanded,render:o.render}));else if(o.indent>n){var i=a.get(o.indent-1);o.render=i.expanded&&i.render,o.hasChildren&&a.set(o.indent,{expanded:o.expanded,render:o.render})}else t=!1}))}},{key:"isResourceViewResponsive",value:function(){var e=this.getResourceTableConfigWidth();return!!e.endsWith&&e.endsWith("%")}},{key:"isContentViewResponsive",value:function(){var e=this.getContentCellConfigWidth();return!!e.endsWith&&e.endsWith("%")}},{key:"getSchedulerWidth",value:function(){var e=this.documentWidth-this.config.besidesWidth>0?this.documentWidth-this.config.besidesWidth:0;return this.isSchedulerResponsive()?parseInt(e*Number(this.config.schedulerWidth.slice(0,-1))/100):this.config.schedulerWidth}},{key:"getResourceTableWidth",value:function(){var e=this.getResourceTableConfigWidth(),t=this.getSchedulerWidth(),n=this.isResourceViewResponsive()?parseInt(t*Number(e.slice(0,-1))/100):e;return this.isSchedulerResponsive()&&this.getContentTableWidth()+n<t&&(n=t-this.getContentTableWidth()),n}},{key:"getContentCellWidth",value:function(){var e=this.getContentCellConfigWidth(),t=this.getSchedulerWidth();return this.isContentViewResponsive()?parseInt(t*Number(e.slice(0,-1))/100):e}},{key:"getContentTableWidth",value:function(){return this.headers.length*this.getContentCellWidth()}},{key:"getScrollToSpecialMoment",value:function(){return!!this.config.scrollToSpecialMomentEnabled&&this.scrollToSpecialMoment}},{key:"getSlots",value:function(){return this.isEventPerspective?this.eventGroups:this.resources}},{key:"getSlotById",value:function(e){var t=this.getSlots(),n=void 0;return t.forEach((function(t){t.id===e&&(n=t)})),n}},{key:"getResourceById",value:function(e){var t=void 0;return this.resources.forEach((function(n){n.id===e&&(t=n)})),t}},{key:"getTableHeaderHeight",value:function(){return this.config.tableHeaderHeight}},{key:"getSchedulerContentDesiredHeight",value:function(){var e=0;return this.renderData.forEach((function(t){t.render&&(e+=t.rowHeight)})),e}},{key:"getCellMaxEvents",value:function(){return this.viewType===W.Week?this.config.weekMaxEvents:this.viewType===W.Day?this.config.dayMaxEvents:this.viewType===W.Month?this.config.monthMaxEvents:this.viewType===W.Year?this.config.yearMaxEvents:this.viewType===W.Quarter?this.config.quarterMaxEvents:this.config.customMaxEvents}},{key:"getDateLabel",value:function(){var e=this.localeMoment(this.startDate),t=this.localeMoment(this.endDate),n=e.format("LL");return e!=t&&(n="".concat(e.format("LL"),"-").concat(t.format("LL"))),this.behaviors.getDateLabelFunc&&(n=this.behaviors.getDateLabelFunc(this,this.viewType,this.startDate,this.endDate)),n}},{key:"addEvent",value:function(e){this._attachEvent(e),this.eventGroupsAutoGenerated&&this._generateEventGroups(),this._createRenderData()}},{key:"updateEventStart",value:function(e,t){this._detachEvent(e),e.start=t,this._attachEvent(e),this._createRenderData()}},{key:"updateEventEnd",value:function(e,t){e.end=t,this._createRenderData()}},{key:"moveEvent",value:function(e,t,n,r,a){this._detachEvent(e),this.isEventPerspective?(e.groupId=t,e.groupName=n):e.resourceId=t,e.end=a,e.start=r,this._attachEvent(e),this._createRenderData()}},{key:"isEventInTimeWindow",value:function(e,t,n,r){return e<r&&t>n}},{key:"removeEvent",value:function(e){var t=this.events.indexOf(e);-1!==t&&(this.events.splice(t,1),this._createRenderData())}},{key:"removeEventById",value:function(e){var t=-1;this.events.forEach((function(n,r){n.id===e&&(t=r)})),-1!==t&&(this.events.splice(t,1),this._createRenderData())}},{key:"getResourceTableConfigWidth",value:function(){return this.showAgenda?this.config.agendaResourceTableWidth:this.viewType===W.Week?this.config.weekResourceTableWidth:this.viewType===W.Day?this.config.dayResourceTableWidth:this.viewType===W.Month?this.config.monthResourceTableWidth:this.viewType===W.Year?this.config.yearResourceTableWidth:this.viewType===W.Quarter?this.config.quarterResourceTableWidth:this.config.customResourceTableWidth}},{key:"getContentCellConfigWidth",value:function(){return this.viewType===W.Week?this.config.weekCellWidth:this.viewType===W.Day?this.config.dayCellWidth:this.viewType===W.Month?this.config.monthCellWidth:this.viewType===W.Year?this.config.yearCellWidth:this.viewType===W.Quarter?this.config.quarterCellWidth:this.config.customCellWidth}},{key:"_setDocumentWidth",value:function(e){e>=0&&(this.documentWidth=e)}},{key:"_detachEvent",value:function(e){var t=this.events.indexOf(e);-1!==t&&this.events.splice(t,1)}},{key:"_attachEvent",value:function(e){var t=this,n=0,r=this.localeMoment(e.start);this.events.forEach((function(e,a){var o=t.localeMoment(e.start);r>=o&&(n=a+1)})),this.events.splice(n,0,e)}},{key:"_handleRecurringEvents",value:function(){var e=this,t=this.events.filter((function(e){return!!e.rrule}));t.forEach((function(t){e._detachEvent(t)})),t.forEach((function(t){var n=e.localeMoment(e.startDate),r=e.localeMoment(e.endDate).add(1,"days"),a=e.localeMoment(t.start),o=e.localeMoment(t.end),i=Object(X.c)(t.rrule),s=void 0,l=i.origOptions.until||r.toDate();if(i.origOptions.dtstart&&(s=e.localeMoment(i.origOptions.dtstart)),r<l&&(i.origOptions.until=r.toDate()),i=Object(X.c)(i.toString()),t.exdates||t.exrule){var c=new X.a;c.rrule(i),t.exrule&&c.exrule(Object(X.c)(t.exrule)),t.exdates&&t.exdates.forEach((function(t){c.exdate(e.localeMoment(t).toDate())})),i=c}i.all().map((function(n,r){return Object(h.a)(Object(h.a)({},t),{},{recurringEventId:t.id,recurringEventStart:t.start,recurringEventEnd:t.end,id:"".concat(t.id,"-").concat(r),start:i.origOptions.tzid?e.localeMoment.utc(n).utcOffset(e.localeMoment().utcOffset(),!0).format(ee):e.localeMoment(n).format(ee),end:i.origOptions.tzid?e.localeMoment.utc(n).utcOffset(e.localeMoment().utcOffset(),!0).add(o.diff(a),"ms").add(e.localeMoment(l).utcOffset()-e.localeMoment(t.start).utcOffset(),"m").format(ee):e.localeMoment(n).add(o.diff(a),"ms").format(ee)})})).forEach((function(t){var a=e.localeMoment(t.start),o=e.localeMoment(t.end);e.isEventInTimeWindow(a,o,n,r)&&(!s||a>=s)&&e._attachEvent(t)}))}))}},{key:"_resolveDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0!=t&&(this.selectDate=this.localeMoment(t).format(Z)),this.viewType===W.Week)this.startDate=void 0!=t?this.localeMoment(t).startOf("week").format(Z):this.localeMoment(this.startDate).add(e,"weeks").format(Z),this.endDate=this.localeMoment(this.startDate).endOf("week").format(Z);else if(this.viewType===W.Day)this.startDate=void 0!=t?this.selectDate:this.localeMoment(this.startDate).add(e,"days").format(Z),this.endDate=this.startDate;else if(this.viewType===W.Month)this.startDate=void 0!=t?this.localeMoment(t).startOf("month").format(Z):this.localeMoment(this.startDate).add(e,"months").format(Z),this.endDate=this.localeMoment(this.startDate).endOf("month").format(Z);else if(this.viewType===W.Quarter)this.startDate=void 0!=t?this.localeMoment(t).startOf("quarter").format(Z):this.localeMoment(this.startDate).add(e,"quarters").format(Z),this.endDate=this.localeMoment(this.startDate).endOf("quarter").format(Z);else if(this.viewType===W.Year)this.startDate=void 0!=t?this.localeMoment(t).startOf("year").format(Z):this.localeMoment(this.startDate).add(e,"years").format(Z),this.endDate=this.localeMoment(this.startDate).endOf("year").format(Z);else if(this.viewType===W.Custom||this.viewType===W.Custom1||this.viewType===W.Custom2){if(void 0==this.behaviors.getCustomDateFunc)throw new Error("This is custom view type, set behaviors.getCustomDateFunc func to resolve the time window(startDate and endDate) yourself");var n=this.behaviors.getCustomDateFunc(this,e,t);this.startDate=n.startDate,this.endDate=n.endDate,n.cellUnit&&(this.cellUnit=n.cellUnit)}}},{key:"_createHeaders",value:function(){var e=[],t=this.localeMoment(this.startDate),n=this.localeMoment(this.endDate),r=t;if(this.showAgenda)e.push({time:r.format(ee),nonWorkingTime:!1});else if(this.cellUnit===Y.Hour)for(t=t.add(this.config.dayStartFrom,"hours"),n=n.add(this.config.dayStopTo,"hours"),r=t;r>=t&&r<=n;)for(var a=this.getMinuteStepsInHour(),o=0;o<a;o++){var i=r.hour();if(i>=this.config.dayStartFrom&&i<=this.config.dayStopTo){var s=r.format(ee),l=this.behaviors.isNonWorkingTimeFunc(this,s);e.push({time:s,nonWorkingTime:l})}r=r.add(this.config.minuteStep,"minutes")}else for(;r>=t&&r<=n;){var c=r.format(ee),d=r.weekday();if(this.config.displayWeekend||0!==d&&6!==d){var u=this.behaviors.isNonWorkingTimeFunc(this,c);e.push({time:c,nonWorkingTime:u})}r=r.add(1,"days")}this.headers=e}},{key:"_createInitHeaderEvents",value:function(e){var t=this.localeMoment(e.time),n=t.format(ee),r=this.showAgenda?this.viewType===W.Week?t.add(1,"weeks").format(ee):this.viewType===W.Day?t.add(1,"days").format(ee):this.viewType===W.Month?t.add(1,"months").format(ee):this.viewType===W.Year?t.add(1,"years").format(ee):this.viewType===W.Quarter?t.add(1,"quarters").format(ee):this.localeMoment(this.endDate).add(1,"days").format(ee):this.cellUnit===Y.Hour?t.add(this.config.minuteStep,"minutes").format(ee):t.add(1,"days").format(ee);return{time:e.time,nonWorkingTime:e.nonWorkingTime,start:n,end:r,count:0,addMore:0,addMoreIndex:0,events:[,,,]}}},{key:"_createHeaderEvent",value:function(e,t,n){return{render:e,span:t,eventItem:n}}},{key:"_getEventSlotId",value:function(e){return this.isEventPerspective?this._getEventGroupId(e):e.resourceId}},{key:"_getEventGroupId",value:function(e){return e.groupId?e.groupId.toString():e.id.toString()}},{key:"_getEventGroupName",value:function(e){return e.groupName?e.groupName:e.title}},{key:"_generateEventGroups",value:function(){var e=this,t=[],n=new Set;this.events.forEach((function(r){var a=e._getEventGroupId(r),o=e._getEventGroupName(r);n.has(a)||(t.push({id:a,name:o,state:r}),n.add(a))})),this.eventGroups=t}},{key:"_createInitRenderData",value:function(e,t,n,r){var a=this,o=e?t:n,i=[],s=new Map;o.forEach((function(e){var t=r.map((function(e){return a._createInitHeaderEvents(e)})),n={slotId:e.id,slotName:e.name,parentId:e.parentId,groupOnly:e.groupOnly,hasSummary:!1,rowMaxCount:0,rowHeight:0!==a.config.nonAgendaSlotMinHeight?a.config.nonAgendaSlotMinHeight:a.config.eventItemLineHeight+2,headerItems:t,indent:0,hasChildren:!1,expanded:!0,render:!0},o=e.id,l=void 0;s.has(o)?(l=s.get(o)).data=n:(l={data:n,children:[]},s.set(o,l));var c=e.parentId;if(c&&c!==o){var d=void 0;s.has(c)?d=s.get(c):(d={data:void 0,children:[]},s.set(c,d)),d.children.push(l)}else i.push(l)}));var l,c=[];for(l=i.length-1;l>=0;l--)c.push(i[l]);for(var d=[],u=void 0;c.length>0;)for((u=c.pop()).data.indent>0&&(u.data.render=this.config.defaultExpanded),u.children.length>0&&(u.data.hasChildren=!0,u.data.expanded=this.config.defaultExpanded),d.push(u.data),l=u.children.length-1;l>=0;l--)u.children[l].data.indent=u.data.indent+1,c.push(u.children[l]);return d}},{key:"_getSpan",value:function(e,t,n){if(this.showAgenda)return 1;var r,a=this.localeMoment(e),o=this.localeMoment(t),i=0,s=Object(B.a)(n);try{for(s.s();!(r=s.n()).done;){var l=r.value,c=this.localeMoment(l.time),d=this.cellUnit===Y.Hour?this.localeMoment(l.time).add(this.config.minuteStep,"minutes"):this.localeMoment(l.time).add(1,"days");c<o&&d>a&&i++}}catch(u){s.e(u)}finally{s.f()}return i}},{key:"_validateResource",value:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("Resources should be Array object");e.forEach((function(e,t){if(void 0==e)throw console.error("Resource undefined: ".concat(t)),new Error("Resource undefined: ".concat(t));if(void 0==e.id||void 0==e.name)throw console.error("Resource property missed",t,e),new Error("Resource property undefined: ".concat(t))}))}},{key:"_validateEventGroups",value:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("Event groups should be Array object");e.forEach((function(e,t){if(void 0==e)throw console.error("Event group undefined: ".concat(t)),new Error("Event group undefined: ".concat(t));if(void 0==e.id||void 0==e.name)throw console.error("Event group property missed",t,e),new Error("Event group property undefined: ".concat(t))}))}},{key:"_validateEvents",value:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("Events should be Array object");e.forEach((function(e,t){if(void 0==e)throw console.error("Event undefined: ".concat(t)),new Error("Event undefined: ".concat(t));if(void 0==e.id||void 0==e.resourceId||void 0==e.title||void 0==e.start||void 0==e.end)throw console.error("Event property missed",t,e),new Error("Event property undefined: ".concat(t))}))}},{key:"_validateMinuteStep",value:function(e){if(60%e!==0)throw console.error("Minute step is not set properly - 60 minutes must be divisible without remainder by this number"),new Error("Minute step is not set properly - 60 minutes must be divisible without remainder by this number")}},{key:"_compare",value:function(e,t){var n=this.localeMoment(e.start),r=this.localeMoment(t.start);if(n!==r)return n<r?-1:1;var a=this.localeMoment(e.end),o=this.localeMoment(t.end);return a!==o?a<o?-1:1:e.id<t.id?-1:1}},{key:"_createRenderData",value:function(){var e=this,t=this._createInitRenderData(this.isEventPerspective,this.eventGroups,this.resources,this.headers),n=this.getCellMaxEvents();this.events.forEach((function(r){var a=t.filter((function(t){return t.slotId===e._getEventSlotId(r)}));if(a.length>0){var o=a[0],i=e._getSpan(r.start,r.end,e.headers),s=e.localeMoment(r.start),l=e.localeMoment(r.end),c=-1;o.headerItems.forEach((function(t,a){var d=e.localeMoment(t.start);if(e.localeMoment(t.end)>s&&d<l){if(t.count=t.count+1,t.count>o.rowMaxCount){o.rowMaxCount=t.count;var u=(n<=30&&o.rowMaxCount>n?n:o.rowMaxCount)*e.config.eventItemLineHeight+(e.config.creatable&&!1===e.config.checkConflict?20:2);u>o.rowHeight&&(o.rowHeight=u)}if(-1===c){for(var h=0;void 0!==t.events[h];)h++;c=h}var v=d<=s||0===a;if(!1===v){var m=o.headerItems[a-1],f=e.localeMoment(m.start);(e.localeMoment(m.end)<=s||f>=l)&&(v=!0)}t.events[c]=e._createHeaderEvent(v,i,r)}}))}})),(n<=30||void 0!==this.behaviors.getSummaryFunc)&&t.forEach((function(t){var r=!1;if(t.headerItems.forEach((function(a){if(n<=30){for(var o=0,i=0,s=0;s<n-1;)void 0!==a.events[s]&&(o++,i=s+1),s++;void 0!==a.events[s]?o+1<a.count&&(a.addMore=a.count-o,a.addMoreIndex=i):o<a.count&&(a.addMore=a.count-o,a.addMoreIndex=i)}if(void 0!==e.behaviors.getSummaryFunc){var l=[];a.events.forEach((function(e){e&&e.eventItem&&l.push(e.eventItem)})),a.summary=e.behaviors.getSummaryFunc(e,l,t.slotId,t.slotName,a.start,a.end),a.summary&&void 0!=a.summary.text&&(r=!0)}})),t.hasSummary=r,r){var a=((n<=30&&t.rowMaxCount>n?n:t.rowMaxCount)+1)*e.config.eventItemLineHeight+(e.config.creatable&&!1===e.config.checkConflict?20:2);a>t.rowHeight&&(t.rowHeight=a)}})),this.renderData=t}},{key:"_startResizing",value:function(){this.resizing=!0}},{key:"_stopResizing",value:function(){this.resizing=!1}},{key:"_isResizing",value:function(){return this.resizing}}]),e}(),Q={resources:[{id:"w0",name:"Workstation 1",groupOnly:!0},{id:"m1",name:"Machine1",parentId:"w0"},{id:"m2",name:"Machine2",parentId:"w0"},{id:"m3",name:"Machine3",parentId:"w0"}],events:[{id:1,start:"2019-12-18 09:30:00",end:"2019-12-18 23:30:00",resourceId:"m1",title:"Event Successfully finished",bgColor:"#32CD32"},{id:2,start:"2019-12-18 10:30:00",end:"2020-02-26 23:30:00",resourceId:"m2",title:"Event with Error",bgColor:"#FF0000"},{id:3,start:"2019-12-18 02:30:00",end:"2019-12-18 10:30:00",resourceId:"m3",title:"Event in progress",bgColor:"#FFFF00"},{id:4,start:"2019-12-19 07:30:00",end:"2019-12-19 23:30:00",resourceId:"m3",title:"Event Successfully finished",bgColor:"#32CD32"},{id:5,start:"2019-12-19 07:30:00",end:"2019-12-19 10:30:00",resourceId:"m1",title:"Event in progress",bgColor:"#FFFF00"},{id:6,start:"2019-12-17 07:30:00",end:"2019-12-17 10:30:00",resourceId:"m1",title:"Event in progress",bgColor:"#FFFF00"}],eventsForTaskView:[{id:1,start:"2017-12-18 09:30:00",end:"2017-12-18 23:30:00",resourceId:"r1",title:"I am finished",bgColor:"#D9D9D9",groupId:1,groupName:"Task1"},{id:2,start:"2017-12-18 12:30:00",end:"2017-12-26 23:30:00",resourceId:"r2",title:"I am not resizable",resizable:!1,groupId:2,groupName:"Task2"},{id:3,start:"2017-12-19 12:30:00",end:"2017-12-20 23:30:00",resourceId:"r3",title:"I am not movable",movable:!1,groupId:3,groupName:"Task3"},{id:7,start:"2017-12-19 15:40:00",end:"2017-12-20 23:30:00",resourceId:"r7",title:"I am exceptional",bgColor:"#FA9E95",groupId:4,groupName:"Task4"},{id:4,start:"2017-12-20 14:30:00",end:"2017-12-21 23:30:00",resourceId:"r4",title:"I am not start-resizable",startResizable:!1,groupId:1,groupName:"Task1"},{id:5,start:"2017-12-21 15:30:00",end:"2017-12-22 23:30:00",resourceId:"r5",title:"I am not end-resizable",endResizable:!1,groupId:3,groupName:"Task3"},{id:9,start:"2017-12-21 16:30:00",end:"2017-12-21 23:30:00",resourceId:"r1",title:"R1 has many tasks",groupId:4,groupName:"Task4"},{id:6,start:"2017-12-22 15:35:00",end:"2017-12-23 23:30:00",resourceId:"r6",title:"I am normal",groupId:1,groupName:"Task1"},{id:8,start:"2017-12-25 15:50:00",end:"2017-12-26 23:30:00",resourceId:"r1",title:"I am locked",movable:!1,resizable:!1,bgColor:"red",groupId:1,groupName:"Task1"},{id:10,start:"2017-12-26 18:30:00",end:"2017-12-26 23:30:00",resourceId:"r2",title:"R2 has many tasks",groupId:4,groupName:"Task4"},{id:11,start:"2017-12-27 18:30:00",end:"2017-12-27 23:30:00",resourceId:"r14",title:"R4 has many tasks",groupId:4,groupName:"Task4"},{id:12,start:"2017-12-28 18:30:00",end:"2017-12-28 23:30:00",resourceId:"r6",title:"R6 has many tasks",groupId:3,groupName:"Task3"}],eventsForCustomEventStyle:[{id:1,start:"2017-12-18 09:30:00",end:"2017-12-19 23:30:00",resourceId:"r1",title:"I am finished",bgColor:"#D9D9D9",type:1},{id:2,start:"2017-12-18 12:30:00",end:"2017-12-26 23:30:00",resourceId:"r2",title:"I am not resizable",resizable:!1,type:2},{id:3,start:"2017-12-19 12:30:00",end:"2017-12-20 23:30:00",resourceId:"r3",title:"I am not movable",movable:!1,type:3},{id:4,start:"2017-12-19 14:30:00",end:"2017-12-20 23:30:00",resourceId:"r4",title:"I am not start-resizable",startResizable:!1,type:1},{id:5,start:"2017-12-19 15:30:00",end:"2017-12-20 23:30:00",resourceId:"r5",title:"I am not end-resizable",endResizable:!1,type:2},{id:6,start:"2017-12-19 15:35:00",end:"2017-12-19 23:30:00",resourceId:"r6",title:"I am normal",type:3},{id:7,start:"2017-12-19 15:40:00",end:"2017-12-20 23:30:00",resourceId:"r7",title:"I am exceptional",bgColor:"#FA9E95",type:1},{id:8,start:"2017-12-19 15:50:00",end:"2017-12-19 23:30:00",resourceId:"r1",title:"I am locked",movable:!1,resizable:!1,bgColor:"red",type:2},{id:9,start:"2017-12-19 16:30:00",end:"2017-12-27 23:30:00",resourceId:"r1",title:"R1 has many tasks 1",type:3},{id:10,start:"2017-12-20 18:30:00",end:"2017-12-20 23:30:00",resourceId:"r1",title:"R1 has many tasks 2",type:1},{id:11,start:"2017-12-21 18:30:00",end:"2017-12-22 23:30:00",resourceId:"r1",title:"R1 has many tasks 3",type:2},{id:12,start:"2017-12-23 18:30:00",end:"2017-12-27 23:30:00",resourceId:"r1",title:"R1 has many tasks 4",type:3}]},J=b.a.Button,$=b.a.Group,K=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var r;Object(s.a)(this,n),(r=t.call(this,e)).onWindowResize=function(e){r.props.schedulerData._setDocumentWidth(document.documentElement.clientWidth),r.setState({documentWidth:document.documentElement.clientWidth,documentHeight:document.documentElement.clientHeight})},r.resolveScrollbarSize=function(){var e=17,t=17,n=17,a=17,o=r.props.schedulerData.getSchedulerContentDesiredHeight();r.schedulerContent&&(e=r.schedulerContent.offsetHeight-r.schedulerContent.clientHeight,t=r.schedulerContent.offsetWidth-r.schedulerContent.clientWidth),r.schedulerResource&&(n=r.schedulerResource.offsetHeight-r.schedulerResource.clientHeight,a=r.schedulerResource.offsetWidth-r.schedulerResource.clientWidth),r.schedulerContentBgTable&&r.schedulerContentBgTable.offsetHeight&&(o=r.schedulerContentBgTable.offsetHeight);var i={},s=!1;e!=r.state.contentScrollbarHeight&&(i=Object(h.a)(Object(h.a)({},i),{},{contentScrollbarHeight:e}),s=!0),t!=r.state.contentScrollbarWidth&&(i=Object(h.a)(Object(h.a)({},i),{},{contentScrollbarWidth:t}),s=!0),o!=r.state.contentHeight&&(i=Object(h.a)(Object(h.a)({},i),{},{contentHeight:o}),s=!0),n!=r.state.resourceScrollbarHeight&&(i=Object(h.a)(Object(h.a)({},i),{},{resourceScrollbarHeight:n}),s=!0),a!=r.state.resourceScrollbarWidth&&(i=Object(h.a)(Object(h.a)({},i),{},{resourceScrollbarWidth:a}),s=!0),s&&r.setState(i)},r.schedulerHeadRef=function(e){r.schedulerHead=e},r.onSchedulerHeadMouseOver=function(){r.currentArea=2},r.onSchedulerHeadMouseOut=function(){r.currentArea=-1},r.onSchedulerHeadScroll=function(e,t){2!==r.currentArea&&-1!==r.currentArea||r.schedulerContent.scrollLeft==r.schedulerHead.scrollLeft||(r.schedulerContent.scrollLeft=r.schedulerHead.scrollLeft)},r.schedulerResourceRef=function(e){r.schedulerResource=e},r.onSchedulerResourceMouseOver=function(){r.currentArea=1},r.onSchedulerResourceMouseOut=function(){r.currentArea=-1},r.onSchedulerResourceScroll=function(e,t){1!==r.currentArea&&-1!==r.currentArea||r.schedulerContent.scrollTop==r.schedulerResource.scrollTop||(r.schedulerContent.scrollTop=r.schedulerResource.scrollTop)},r.schedulerContentRef=function(e){r.schedulerContent=e},r.schedulerContentBgTableRef=function(e){r.schedulerContentBgTable=e},r.onSchedulerContentMouseOver=function(){r.currentArea=0},r.onSchedulerContentMouseOut=function(){r.currentArea=-1},r.onSchedulerContentScroll=function(e,t){0!==r.currentArea&&-1!==r.currentArea||(r.schedulerHead.scrollLeft!=r.schedulerContent.scrollLeft&&(r.schedulerHead.scrollLeft=r.schedulerContent.scrollLeft),r.schedulerResource.scrollTop!=r.schedulerContent.scrollTop&&(r.schedulerResource.scrollTop=r.schedulerContent.scrollTop));var n=r.props,a=n.schedulerData,o=n.onScrollLeft,i=n.onScrollRight,s=n.onScrollTop,l=n.onScrollBottom,c=r.state,d=c.scrollLeft,u=c.scrollTop;r.schedulerContent.scrollLeft!==d?(0===r.schedulerContent.scrollLeft&&void 0!=o&&o(a,r.schedulerContent,r.schedulerContent.scrollWidth-r.schedulerContent.clientWidth),r.schedulerContent.scrollLeft===r.schedulerContent.scrollWidth-r.schedulerContent.clientWidth&&void 0!=i&&i(a,r.schedulerContent,r.schedulerContent.scrollWidth-r.schedulerContent.clientWidth)):r.schedulerContent.scrollTop!==u&&(0===r.schedulerContent.scrollTop&&void 0!=s&&s(a,r.schedulerContent,r.schedulerContent.scrollHeight-r.schedulerContent.clientHeight),r.schedulerContent.scrollTop===r.schedulerContent.scrollHeight-r.schedulerContent.clientHeight&&void 0!=l&&l(a,r.schedulerContent,r.schedulerContent.scrollHeight-r.schedulerContent.clientHeight)),r.setState({scrollLeft:r.schedulerContent.scrollLeft,scrollTop:r.schedulerContent.scrollTop})},r.onViewChange=function(e){var t=r.props;(0,t.onViewChange)(t.schedulerData,{viewType:parseInt(e.target.value.charAt(0)),showAgenda:"1"===e.target.value.charAt(1),isEventPerspective:"1"===e.target.value.charAt(2)})},r.goNext=function(){var e=r.props;(0,e.nextClick)(e.schedulerData)},r.goBack=function(){var e=r.props;(0,e.prevClick)(e.schedulerData)},r.handleVisibleChange=function(e){r.setState({visible:e})},r.onSelect=function(e){r.setState({visible:!1});var t=r.props;(0,t.onSelectDate)(t.schedulerData,e)};var a=e.schedulerData,o=e.dndSources,i=[];i.push(new x((function(e){return e.eventItem}),T)),void 0!=o&&o.length>0&&(i=[].concat(Object(u.a)(i),Object(u.a)(o)));var l=new H(i,F);return r.currentArea=-1,a._setDocumentWidth(document.documentElement.clientWidth),r.state={visible:!1,dndContext:l,contentHeight:a.getSchedulerContentDesiredHeight(),contentScrollbarHeight:17,contentScrollbarWidth:17,resourceScrollbarHeight:17,resourceScrollbarWidth:17,scrollLeft:0,scrollTop:0,documentWidth:document.documentElement.clientWidth,documentHeight:document.documentElement.clientHeight},a.isSchedulerResponsive()&&(window.onresize=r.onWindowResize),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(e,t){this.resolveScrollbarSize()}},{key:"componentDidUpdate",value:function(e,t){this.resolveScrollbarSize();var n=this.props.schedulerData,r=n.localeMoment,a=n.behaviors;if(n.getScrollToSpecialMoment()&&a.getScrollSpecialMomentFunc&&this.schedulerContent&&this.schedulerContent.scrollWidth>this.schedulerContent.clientWidth){var o=r(n.startDate).startOf("day"),i=r(n.endDate).endOf("day"),s=a.getScrollSpecialMomentFunc(n,o,i);if(s>=o&&s<=i){var l=0;n.headers.forEach((function(e){var t=r(e.time);s>=t&&l++})),this.schedulerContent.scrollLeft=(l-1)*n.getContentCellWidth(),n.setScrollToSpecialMoment(!1)}}}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.schedulerData,o=n.leftCustomHeader,i=n.rightCustomHeader,s=r.renderData,l=r.viewType,c=r.showAgenda,d=r.isEventPerspective,u=r.config,v=r.getSchedulerWidth(),f=u.calendarPopoverEnabled,p=r.getDateLabel(),y="".concat(l).concat(c?1:0).concat(d?1:0),b=u.views.map((function(e){return a.a.createElement(J,{key:"".concat(e.viewType).concat(e.showAgenda?1:0).concat(e.isEventPerspective?1:0),value:"".concat(e.viewType).concat(e.showAgenda?1:0).concat(e.isEventPerspective?1:0)},a.a.createElement("span",{style:{margin:"0px 8px"}},e.viewName))})),D=r.getResourceTableWidth(),S=v-D+1,M=r.getContentTableWidth()-1,k=this.state.dndContext.getDropTarget(),I=this.state.dndContext.getDndSource(),T=s.filter((function(e){return e.render})).map((function(e){return a.a.createElement(k,Object.assign({},t.props,{key:e.slotId,resourceEvents:e,dndSource:I}))})),R=this.state.contentScrollbarHeight,x=this.state.contentScrollbarWidth,O=this.state.resourceScrollbarHeight,W=this.state.resourceScrollbarWidth,H=this.state.contentHeight,z=0===O?R:0,L={overflow:"auto",margin:"0px",position:"relative",paddingBottom:0===R?O:0},A={overflowX:"auto",overflowY:"auto",width:D+W-2,margin:"0px -".concat(x,"px 0px 0px")};u.schedulerMaxHeight>0&&(L=Object(h.a)(Object(h.a)({},L),{},{maxHeight:u.schedulerMaxHeight-u.tableHeaderHeight}),A=Object(h.a)(Object(h.a)({},A),{},{maxHeight:u.schedulerMaxHeight-u.tableHeaderHeight}));var F=r.isEventPerspective?u.taskName:u.resourceName;e=a.a.createElement("tr",null,a.a.createElement("td",{style:{width:D,verticalAlign:"top"}},a.a.createElement("div",{className:"resource-view"},a.a.createElement("div",{style:{overflow:"hidden",borderBottom:"1px solid #e9e9e9",height:u.tableHeaderHeight}},a.a.createElement("div",{style:{overflowX:"scroll",overflowY:"hidden",margin:"0px 0px -".concat(R,"px")}},a.a.createElement("table",{className:"resource-table"},a.a.createElement("thead",null,a.a.createElement("tr",{style:{height:u.tableHeaderHeight}},a.a.createElement("th",{className:"header3-text"},F)))))),a.a.createElement("div",{style:A,ref:this.schedulerResourceRef,onMouseOver:this.onSchedulerResourceMouseOver,onMouseOut:this.onSchedulerResourceMouseOut,onScroll:this.onSchedulerResourceScroll},a.a.createElement(N,Object.assign({},this.props,{contentScrollbarHeight:z}))))),a.a.createElement("td",null,a.a.createElement("div",{className:"scheduler-view",style:{width:S,verticalAlign:"top"}},a.a.createElement("div",{style:{overflow:"hidden",borderBottom:"1px solid #e9e9e9",height:u.tableHeaderHeight}},a.a.createElement("div",{style:{overflowX:"scroll",overflowY:"hidden",margin:"0px 0px -".concat(R,"px")},ref:this.schedulerHeadRef,onMouseOver:this.onSchedulerHeadMouseOver,onMouseOut:this.onSchedulerHeadMouseOut,onScroll:this.onSchedulerHeadScroll},a.a.createElement("div",{style:{paddingRight:"".concat(x,"px"),width:M+x}},a.a.createElement("table",{className:"scheduler-bg-table"},a.a.createElement(j,this.props))))),a.a.createElement("div",{style:L,ref:this.schedulerContentRef,onMouseOver:this.onSchedulerContentMouseOver,onMouseOut:this.onSchedulerContentMouseOut,onScroll:this.onSchedulerContentScroll},a.a.createElement("div",{style:{width:M,height:H}},a.a.createElement("div",{className:"scheduler-content"},a.a.createElement("table",{className:"scheduler-content-table"},a.a.createElement("tbody",null,T))),a.a.createElement("div",{className:"scheduler-bg"},a.a.createElement("table",{className:"scheduler-bg-table",style:{width:M},ref:this.schedulerContentBgTableRef},a.a.createElement(_,this.props))))))));var Y=a.a.createElement("div",{className:"popover-calendar"},a.a.createElement(w.a,{fullscreen:!1,onSelect:this.onSelect})),B=a.a.createElement("div",null);return u.headerEnabled&&(B=a.a.createElement(g.a,{type:"flex",align:"middle",justify:"space-between",style:{marginBottom:"24px"}},o,a.a.createElement(m.a,null,a.a.createElement("div",{className:"header2-text"},a.a.createElement(E.a,{type:"left",style:{marginRight:"8px"},className:"icon-nav",onClick:this.goBack}),f?a.a.createElement(C.a,{content:Y,placement:"bottom",trigger:"click",visible:this.state.visible,onVisibleChange:this.handleVisibleChange},a.a.createElement("span",{className:"header2-text-label",style:{cursor:"pointer"}},p)):a.a.createElement("span",{className:"header2-text-label"},p),a.a.createElement(E.a,{type:"right",style:{marginLeft:"8px"},className:"icon-nav",onClick:this.goNext}))),a.a.createElement(m.a,null,a.a.createElement($,{defaultValue:y,size:"default",onChange:this.onViewChange},b)),i)),a.a.createElement("table",{id:"RBS-Scheduler-root",className:"scheduler",style:{width:"".concat(v,"px")}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("td",{colSpan:"2"},B))),a.a.createElement("tbody",null,e))}}]),n}(r.Component),Z="YYYY-MM-DD",ee="YYYY-MM-DD HH:mm:ss",te=K,ne=n(129),re=n.n(ne),ae=Object(R.a)(re.a),oe=(n(265),ae(function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(e){var r;Object(s.a)(this,n),(r=t.call(this,e)).prevClick=function(e){e.prev(),e.setEvents(Q.events),r.setState({viewModel:e})},r.nextClick=function(e){e.next(),e.setEvents(Q.events),r.setState({viewModel:e})},r.onViewChange=function(e,t){e.setViewType(t.viewType,t.showAgenda,t.isEventPerspective),e.setEvents(Q.events),r.setState({viewModel:e})},r.onSelectDate=function(e,t){e.setDate(t),e.setEvents(Q.events),r.setState({viewModel:e})},r.newEvent=function(e,t,n,a,o,i,s){var l=0;e.events.forEach((function(e){e.id>=l&&(l=e.id+1)}));var c={id:l,title:"New event you just created",start:a,end:o,resourceId:t,bgColor:"purple"};e.addEvent(c),r.setState({viewModel:e})},r.updateEventStart=function(e,t,n){e.updateEventStart(t,n),r.setState({viewModel:e})},r.updateEventEnd=function(e,t,n){e.updateEventEnd(t,n),r.setState({viewModel:e})},r.moveEvent=function(e,t,n,a,o,i){e.moveEvent(t,n,a,o,i),r.setState({viewModel:e})},r.onScrollRight=function(e,t,n){e.ViewTypes===W.Day&&(e.next(),e.setEvents(Q.events),r.setState({viewModel:e}),t.scrollLeft=n-10)},r.onScrollLeft=function(e,t,n){e.ViewTypes===W.Day&&(e.prev(),e.setEvents(Q.events),r.setState({viewModel:e}),t.scrollLeft=10)},r.onScrollTop=function(e,t,n){console.log("onScrollTop")},r.onScrollBottom=function(e,t,n){console.log("onScrollBottom")},r.toggleExpandFunc=function(e,t){e.toggleExpandStatus(t),r.setState({viewModel:e})};var a=new q("2019-12-18",W.Day);return a.localeMoment.locale("en"),a.setResources(Q.resources),a.setEvents(Q.events),r.state={viewModel:a},r}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.viewModel;return a.a.createElement("div",null,a.a.createElement("p",{style:{paddingLeft:"20px",fontWeight:"bold"}},"Instructions"),a.a.createElement("ul",null,a.a.createElement("li",null,"Events can be moved around, by dragging them horizontally"),a.a.createElement("li",null,"Resize events, by dragging them at the left/right rounded edges"),a.a.createElement("li",null,"Click on an empty calendar cell to create a new event")),a.a.createElement("div",null,a.a.createElement(te,{schedulerData:e,prevClick:this.prevClick,nextClick:this.nextClick,onSelectDate:this.onSelectDate,onViewChange:this.onViewChange,viewEventText:"Ops 1",viewEvent2Text:"Ops 2",updateEventStart:this.updateEventStart,updateEventEnd:this.updateEventEnd,moveEvent:this.moveEvent,newEvent:this.newEvent,onScrollLeft:this.onScrollLeft,onScrollRight:this.onScrollRight,onScrollTop:this.onScrollTop,onScrollBottom:this.onScrollBottom,toggleExpandFunc:this.toggleExpandFunc})))}}]),n}(r.Component)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[130,1,2]]]);
//# sourceMappingURL=main.48272a45.chunk.js.map